
<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <title>Simulador de AFDs</title>
    <style>
        body { font-family: Arial, sans-serif; padding: 20px; }
        input, button { margin: 5px; }
    </style>
</head>
<body>

<h1>Simulador de AFDs</h1>

<label for="inputString">Digite a string:</label>
<input type="text" id="inputString" placeholder="Ex: 0010">
<br>

<label for="afdSelect">Escolha o AFD:</label>
<select id="afdSelect">
    <option value="1">Termina com 0</option>
    <option value="2">Número par de 0s</option>
    <option value="3">Exatamente dois 1s</option>
    <option value="4">Começa e termina com mesmo símbolo</option>
</select>
<br>

<button onclick="testDFA()">Testar</button>

<h2 id="result"></h2>

<script>
// Definições dos AFDs
const dfas = {
    1: {
        start: "q0",
        accept: ["q1"],
        transitions: {
            "q0,0": "q1",
            "q0,1": "q0",
            "q1,0": "q1",
            "q1,1": "q0"
        }
    },
    2: {
        start: "q0",
        accept: ["q0"],
        transitions: {
            "q0,0": "q1",
            "q0,1": "q0",
            "q1,0": "q0",
            "q1,1": "q1"
        }
    },
    3: {
        start: "q0",
        accept: ["q2"],
        transitions: {
            "q0,0": "q0",
            "q0,1": "q1",
            "q1,0": "q1",
            "q1,1": "q2",
            "q2,0": "q2",
            "q2,1": "q3",
            "q3,0": "q3",
            "q3,1": "q3"
        }
    },
    4: {
        start: "q0",
        accept: ["q1", "q2"],
        transitions: {
            "q0,0": "q1",
            "q0,1": "q2",
            "q1,0": "q1",
            "q1,1": "q1",
            "q2,0": "q2",
            "q2,1": "q2"
        }
    }
};

// Função para simular
function simulateDFA(dfa, inputStr) {
    let state = dfa.start;
    for (let symbol of inputStr) {
        const transitionKey = `${state},${symbol}`;
        if (dfa.transitions[transitionKey]) {
            state = dfa.transitions[transitionKey];
        } else {
            return false;
        }
    }
    return dfa.accept.includes(state);
}

// Função chamada no botão
function testDFA() {
    const inputStr = document.getElementById("inputString").value;
    const selectedDFA = document.getElementById("afdSelect").value;
    const dfa = dfas[selectedDFA];

    const isAccepted = simulateDFA(dfa, inputStr);
    document.getElementById("result").innerText = isAccepted ? "✅ Aceito!" : "❌ Rejeitado!";
}
</script>

</body>
</html>
